<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // JS强大的表现力 语言精粹 对象
    // 对象字面量
    // 数据类型： 1.简单 2.复杂（引用）

    // 送花 
    const Biang = {
      name: '黄斌',  // key value
      age: 21,
      hometown: '江西宜春',
      isSingle: true,
      sendflower: function () {

      }
    }

    // 什么是对象 = 属性 + 方法
    // 现实世界很复杂，面向对象要能搞得定设计模式
    const hjw = {
      name: '贺经纬',
      age: 21,
      hometown: '江西萍乡',
      isSingle: false,
      // 形参
      sendflower(receiver) {
        //console.log(this); // 对象方法内部this 指向本身
        receiver.receiveFlower(this);
      }
    }

    const xm = {
      name: '小美',
      emotion: 50,
      receiveFlower(sender) {
        // es6
        // es6 代码更优雅
        // 字符串模版
        console.log(`${this.name}收到${sender.name}的花`)

        // es5
        // 命令式代码太low 了
        // console.log(this.name + '收到' + sender.name + '送的花');
        if (this.emotion < 80) {
          console.log('本宫没心情，打出去')
        } else {
          console.log('万达走一波')
        }
      }
    }

    // 代理模式
    const xh = {
      name: '小红',
      hometown: '南昌',

      // method 接口 Interface 
      receiveFlower(sender) {
        // console.log('收到' +sender.name+'送的花');
        if (xm.emotion >= 80) {
          xm.receiveFlower(sender);
        }else{
          setTimeout(function () {
            xm.emotion = 99;
            xm.receiveFlower(sender)
          },200)
          
        }
      }
    }
  </script>

</body>

</html>